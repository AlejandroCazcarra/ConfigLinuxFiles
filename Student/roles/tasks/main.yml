 
 ---
  - name: Install packages that allow apt to be used over HTTPS
  apt:
    name: "{{ packages }}"
    state: present
    update_cache: yes
    vars:
      packages:
        - build-essential
        - mc
        - terminator
        - curl
        - wget
        - git
        - git-gui
        - zsh
  
  - name: Backing up existing ~/.zshrc
  shell: if [ -f ~/.zshrc ]; then mv ~/.zshrc{,.orig}; fi
  when: installation|success
  sudo: no
  
  - name: Cloning  oh-my-zsh
  git:
    repo=https://github.com/robbyrussell/oh-my-zsh
    dest=~/.oh-my-zsh
    when: installation|success
    register: cloning
    sudo: no
    
  - name: Creating new ~/.zshrc
  copy:
    src=~/.oh-my-zsh/templates/zshrc.zsh-template
    dest=~/.zshrc
    when: cloning|success
    sudo: no
      
  - name: Add an apt signing key for Docker
  apt_key:
    url: https://download.docker.com/linux/ubuntu/gpg
    state: present
        
  - name: Add apt repository for stable version
  apt_repository:
    repo: deb [arch=amd64] https://download.docker.com/linux/ubuntu xenial stable
    state: present
    
  - name: Install docker and its dependecies
  apt:
    name: "{{ packages }}"
    state: present
    update_cache: yes
    vars:
      packages:
        - docker-ce
        - docker-ce-cli
        - containerd.io
        notify:
          - docker status
          
  - name: Add an apt signing key for Kubernetes
  apt_key:
    url: https://packages.cloud.google.com/apt/doc/apt-key.gpg
    state: present
              
  - name: Adding apt repository for Kubernetes
  apt_repository:
    repo: deb https://apt.kubernetes.io/ kubernetes-xenial main
    state: present
    filename: kubernetes.list
                
  - name: Install Kubernetes binaries
  apt:
    name: "{{ packages }}"
    state: present
    update_cache: yes
    vars:
      packages:
        - kubeadm
        - kubectl
        register: installed
                      
- name: Adds fasd repo
apt_repository:
  repo: 'ppa:aacebedo/fasd'
  update_cache: yes

- name: Install fasd with apt
  apt: name=fasd state=latest
  become: true

- name: Install Brew
  script: /tmp/nvm-installer.sh

- homebrew_tap:
  name: jesseduffield/lazydocker/lazydocker
  
- homebrew_tap:
  name: jesseduffield/lazygit/lazygit

                          
